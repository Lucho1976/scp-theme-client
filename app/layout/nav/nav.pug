script(type="text/ng-template", id="side-nav-link.html")
  b.label.side-label(
    ng-repeat="alert in item.alerts"
    class="label-{{alert.type}}"
    ng-if="alert.count"
    ng-bind="alert.count"
  )
  b.label.side-label(
    ng-if="item.options.alert"
    class="label-{{item.options.alertType || 'success'}}"
    ng-bind="item.options.alert"
  )
  em.ico(
    ng-if="item.options.icon"
    ng-class="item.options.icon"
  )
  span.link-text(
    ng-bind="(item.options.translate | translate) || item.options.text"
  )

// Inline template with nav items markup and ng-directives
script(type="text/ng-template", id="nav-renderer.html")
  span(
    ng-if="item.options.heading"
    ng-bind="(item.options.translate | translate) || item.options.text"
  )

  a.relative(
    ng-if="!item.options.heading && item.options.sref"
    ng-class="{ 'ico-link': !!item.options.icon }"
    ng-include="'side-nav-link.html'"
    title="{{item.options.text}}"
    ui-sref="{{item.options.sref}}(item.options.params)"
    md-ink-ripple
  )

  a.relative(
    ng-if="!item.options.heading && !item.options.sref"
    ng-class="{ 'ico-link': !!item.options.icon }"
    ng-include="'side-nav-link.html'"
    title="{{item.options.text}}"
  )

  ul.nav.nav-subnav(
    ng-if="item.submenu && item.submenu.length"
    uib-collapse="nav.isCollapsed[pIndex]"
    ng-init="nav.addCollapse(pIndex, item)"
  )
    li.nav-subnav-header(
      ng-bind="(item.options.translate | translate) || item.options.text"
    )
    li(
      ng-repeat="item in item.submenu"
      ng-include="'nav-renderer.html'"
      ng-class="nav.getMenuItemPropClasses(item)"
      ng-init="pIndex=(pIndex+'-'+$index); inSubmenu = true"
      ng-click="nav.toggleCollapse(pIndex)"
    )

// START Nav (left)
.aside-inner
  nav.sidebar(
    navbar
    nav-anyclick-close
    dropdown-class="sidebar-dropdown"
    ng-class="{'show-scrollbar': app.layout.asideScrollbar}"
  )
    // START sidebar nav
    ul.nav
      // Iterates over all nav items
      li(
        ng-class="nav.getMenuItemPropClasses(item)"
        ng-repeat="item in nav.items"
        ng-init="pIndex = $index"
        ng-include="'nav-renderer.html'"
        ng-click="nav.toggleCollapse(pIndex, true)"
      )
    // END sidebar nav

// END Nav (left)
