// Inline template with nav items markup and ng-directives
script(type="text/ng-template", id="nav-renderer.html")
  span(
    ng-if="item.options.heading"
    ng-bind="(item.options.translate | translate) || item.options.text"
  )

  a(
    ng-if="!item.options.heading"
    ng-href="{{$state.href(item.options.sref, item.options.params)}}"
    title="{{item.options.text}}"
    md-ink-ripple
  )
    .pull-right(
      ng-if="item.options.alert"
      ng-class="item.options.label || 'label label-success'"
      ng-bind="item.options.alert"
    )
    em(
      ng-if="item.options.icon"
      ng-class="item.options.icon"
    )
    span(
      ng-bind="(item.options.translate | translate) || item.options.text"
    )

  ul.nav.nav-subnav(
    ng-if="item.submenu && item.submenu.length"
    uib-collapse="nav.isCollapsed[pIndex]"
    ng-init="nav.addCollapse(pIndex, item)"
  )
    li.nav-subnav-header(
      ng-bind="(item.options.translate | translate) || item.options.text"
    )
    li(
      ng-repeat="item in item.submenu"
      ng-include="'nav-renderer.html'"
      ng-class="nav.getMenuItemPropClasses(item)"
      ng-init="pIndex=(pIndex+'-'+$index); inSubmenu = true"
      ng-click="nav.toggleCollapse(pIndex)"
    )

// START Nav (left)
.aside-inner
  nav.sidebar(
    navbar
    nav-anyclick-close
    dropdown-class="sidebar-dropdown"
    ng-class="{'show-scrollbar': app.layout.asideScrollbar}"
  )
    // START sidebar nav
    ul.nav
      // Iterates over all nav items
      li(
        ng-class="nav.getMenuItemPropClasses(item)"
        ng-repeat="item in nav.items"
        ng-init="pIndex = $index"
        ng-include="'nav-renderer.html'"
        ng-click="nav.toggleCollapse(pIndex, true)"
      )
    // END sidebar nav

// END Nav (left)
